{"version":3,"sources":["lib/urlToLin.js","App.js","index.js"],"names":["matchGroups","string","match","replaceAll","groups","buildLin","n","pn","playerNames","hands","bap","biddingAndPlay","d","v","vulByIndex","index","urlToLin","App","useState","urlInput","setUrlInput","linOutput","setLinOutput","className","style","width","rows","value","onChange","e","target","type","onClick","lins","split","reduce","acc","url","idx","convertUrlToLin","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mNAoBA,SAASA,EAAaC,GACpB,IAAMC,EACJD,EACGE,WAAW,MAAO,KAClBD,MAFH,YAES,yIAFT,2CAIF,OAAKA,EAEEA,EAAME,OAFM,GAYrB,SAASC,EAAT,EAAkEC,GAAI,IAArCC,EAAoC,EAAjDC,YAAiBC,EAAgC,EAAhCA,MAAuBC,EAAS,EAAzBC,eACpCC,GAAkBN,EAOP,GAAK,EAAK,EANrBO,EASR,SAASC,EAAYC,GAEnB,OAAQA,GACN,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,EAAG,MAAO,IACf,KAAK,GAAI,MAAO,IAChB,KAAK,GAAI,MAAO,IAChB,KAAK,GAAI,MAAO,IAChB,KAAK,GAAI,MAAO,IAChB,KAAK,GAAI,MAAO,IAChB,KAAK,GAAI,MAAO,IAChB,KAAK,GACL,KAAK,EAAG,MAAO,IACf,QAAS,OAAOD,EAAWC,EAAQ,KA7B3BD,CAAWR,GACrB,MAAM,OAAN,OAAcA,EAAd,YAAmBC,EAAnB,eAA4BK,GAA5B,OAAgCH,EAAhC,eAA4CI,EAA5C,yBAA8DP,EAA9D,YAAmEI,GAgCtDM,MApEf,SAAmBf,GAAgB,IAARK,EAAO,uDAAH,EAC7B,GAAe,KAAXL,EAAe,MAAO,GAE1B,IAAMG,EAASJ,EAAYC,GAC3B,MAAe,KAAXG,EAAsB,GAEnBC,EAASD,EAAQE,ICiCXW,MAvCf,WACE,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAkCF,mBAAS,IAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KASA,OACE,yBAAKC,UAAU,OACb,gEAGA,8BACEC,MAAO,CAAEC,MAAO,OAChBC,KAAK,KACLC,MAAOR,EACPS,SAAU,SAAAC,GAAC,OAAIT,EAAYS,EAAEC,OAAOH,UAEtC,6BACA,8BACEH,MAAO,CAAEC,MAAO,OAChBC,KAAK,KACLC,MAAON,EACPO,SAAU,SAAAC,GAAC,OAAIP,EAAaO,EAAEC,OAAOH,UAEvC,6BACA,2BACEI,KAAK,SACLJ,MAAM,OACNK,QAAS,SAAAH,GAAC,OA7BQ,WACtB,IACMI,EADOd,EAASe,MAAM,MAErBC,QAAO,SAACC,EAAKC,EAAKC,GAAX,OAAmBF,EAAMpB,EAASqB,EAAKC,EAAM,GAAK,OAAM,IACtEhB,EAAaW,GAyBKM,QClCtBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.1545e321.chunk.js","sourcesContent":["/*\nParams:\n  String (url from BBO)\n  Number n (number of board, from 1 and above)\n*/\nfunction urlToLin (string, n = 1) {\n  if (string === '') return '';\n\n  const groups = matchGroups(string);\n  if (groups === '') return '';\n\n  return buildLin(groups, n);\n}\n\n/*\nParams:\n  String (url from BBO)\nReturns:\n  Obj { playerNames(string), hands(string), biddingAndPlay(string) }\n*/\nfunction matchGroups (string) {\n  const match =\n    string\n      .replaceAll('%20', ' ')\n      .match(/(http.*lin=st)\\|\\|pn\\|(?<playerNames>.*)\\|md\\|[1-4](?<hands>[2-9AKQJTSHDC]{17},[2-9AKQJTSHDC]{17},[2-9AKQJTSHDC]{17},[2-9AKQJTSHDC]{17}).*Board [0-9]\\|*(?<biddingAndPlay>.*)/)\n\n  if (!match) return '';\n\n  return match.groups;\n}\n\n/*\nParams:\n  Obj { playerNames(string), hands(string), biddingAndPlay(string) }\n  Number n (number of board, from 1 and above)\nReturns:\n  String (formatted lin with calculated vul and dealer by board number)\n*/\nfunction buildLin ({playerNames: pn, hands, biddingAndPlay: bap}, n) {\n  const d = dealerByIndex(n);\n  const v = vulByIndex(n);\n  return `qx|o${n}|${pn}|md|${d}${hands}|sv|${v}|rh||ah|Board ${n}|${bap}`;\n}\n\nfunction dealerByIndex (index) {\n  // 1 = south, 2 = west, 3 = north and 4 = east\n  return ((index + 1) % 4) + 1;\n}\n\nfunction vulByIndex (index) {\n  // o = none, n = north and south, e = east and west, b = all (both)\n  switch (index) {\n    case 1: return 'o';\n    case 2: return 'n';\n    case 3: return 'e';\n    case 4: return 'b';\n    case 5: return 'n';\n    case 6: return 'e';\n    case 7: return 'b';\n    case 8: return 'o';\n    case 9: return 'e';\n    case 10: return 'b';\n    case 11: return 'o';\n    case 12: return 'n';\n    case 13: return 'b';\n    case 14: return 'o';\n    case 15: return 'n';\n    case 16: return 'e';\n    case 0: return 'e'; // board 0 shouldn't be allowed, but who knows\n    default: return vulByIndex(index % 16);\n  }\n}\n\nexport default urlToLin;\n","import React, { useState } from 'react';\nimport './App.css';\n\nimport urlToLin from './lib/urlToLin'\n\nfunction App() {\n  const [urlInput, setUrlInput] = useState('');\n  const [linOutput, setLinOutput] = useState('');\n\n  const convertUrlToLin = () => {\n    const urls = urlInput.split('\\n');\n    const lins =\n      urls.reduce((acc, url, idx) => acc + urlToLin(url, idx + 1) + '\\n', '');\n    setLinOutput(lins);\n  }\n\n  return (\n    <div className='App'>\n      <h1>\n        Converta entre LIN e urls do BBO\n      </h1>\n      <textarea\n        style={{ width: '95%' }}\n        rows='10'\n        value={urlInput}\n        onChange={e => setUrlInput(e.target.value)}\n      ></textarea>\n      <br/>\n      <textarea\n        style={{ width: '95%' }}\n        rows='10'\n        value={linOutput}\n        onChange={e => setLinOutput(e.target.value)}\n      ></textarea>\n      <br/>\n      <input\n        type='button'\n        value='LIN!'\n        onClick={e => convertUrlToLin()}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}